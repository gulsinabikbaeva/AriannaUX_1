<!DOCTYPE html>
<html lang="it" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <!-- Head Section Begin -->
    <div th:replace="fragments :: head"></div>
    <!-- Head Section End -->
</head>


<body>

<!-- Nav Section Begin -->
<div th:replace="fragments :: nav"></div>
<!-- Nav Section End -->

<!-- Section Section Begin -->
<div th:replace="fragments :: sec2"></div>
<!-- Section Section End -->

<main>
    <div class="container-fluid">
        <h3 th:text="${item.title == null} ? 'Nuovo annuncio':${item.title}">Item</h3>
        <hr/>
        <form method="post" th:object="${item}" role="form" enctype="multipart/form-data">
            <div class="mb-3 row">
                <label for="title" class="col-sm-2 col-form-label">Titolo</label>
                <div class="col-sm-10">
                    <input type="text" id="title" class="form-control" placeholder="Titolo" th:field="*{title}">
                </div>
            </div>
            <div class="mb-3 row">
                <label for="description" class="col-sm-2 col-form-label">Descrizione</label>
                <div class="col-sm-10">
                    <textarea id="description" name="text" th:field="*{description}" class="form-control"></textarea>
                </div>
            </div>
            <div class="mb-3 row">
                <label for="description" class="col-sm-2 col-form-label">Prezzo</label>
                <div class="col-sm-10">
                    <textarea id="price" type="double" name="price" accept="double" th:field="*{price}" class="form-control"></textarea>
                </div>
            </div>
            <div class="mb-3 row">
                <label for="formFile" class="col-sm-2 col-form-label">Immagine (jpeg)</label>
                <div class="col-sm-10">
                    <input class="form-control" type="file" id="formFile" name="file" accept="image/jpeg" >
                </div>
            </div>

            <div class="mb-3 row">
                <label for="category" class="col-sm-2 col-form-label">Categoria</label>
                <div class="col-sm-10">
                    <select id="category" class="form-select" th:field="${item.category}">
                        <option th:each="cat : ${categories}" th:value="${cat.name}" th:text="${cat.name}">Sport</option>
                    </select>
                </div>
            </div>
            <div class="mb-3 row">
                <label for="subCategory" class="col-sm-2 col-form-label">Sotto categoria:</label>
                <div class="col-sm-10">
                    <select id="subCategory" class="form-select" th:field="${item.subCategory}">
                        <option th:each="scat : ${subcategories}" th:value="${scat.name}" th:text="${scat.name}">Sport</option>
                    </select>
                </div>
            </div>

            <hr>
            <div style="position:relative" class="offset-sm-2">
                <div style="position:absolute;left:0px">
                    <input class="btn btn-primary" type="submit" th:value="${item.id == 0} ? 'Crea annuncio':'Modifica annuncio'">
                    <a th:href="@{/}" class="btn btn-secondary">Cancel</a>
                </div>
                <div style="position:absolute;right:0px">
                    <a class="btn btn btn-outline-danger" sec:authorize-url="/item/*/delete" th:href="@{'/item/'+${item.id}+'/delete'}"><span
                            class="oi oi-trash"></span> Rimuovi</a>
                </div>
            </div>
        </form>

        <!-- white space -->
        <div class="container" style="height: 80px;">
            <div class="notification is-white"></div>
        </div>
<!--        &lt;!&ndash; white space &ndash;&gt;-->
<!--        <div class="container">-->
<!--            <div class="notification is-white"></div>-->
<!--        </div>-->
<!--        &lt;!&ndash; white space &ndash;&gt;-->
<!--        <div class="container">-->
<!--            <div class="notification is-white"></div>-->
<!--        </div>-->
    </div>
</main>

<!-- Insta Section Begin -->
<div th:replace="fragments :: insta"></div>
<!-- Insta Section End -->

<!-- Footer Section Begin -->
<div th:replace="fragments :: footer"></div>
<!-- Footer Section End -->


</body>


</html>